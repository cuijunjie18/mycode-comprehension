这个问题可以被进一步抽象成：动态维护一个序列上第 k 大的数，k 值可能会发生变化。

对于此类问题，我们可以使用 对顶堆 这一技巧予以解决（可以避免写权值线段树或 BST 带来的繁琐）。

对顶堆由一个大根堆与一个小根堆组成，小根堆维护大值即前 k 大的值（包含第 k 个），大根堆维护小值即比第 k 大数小的其他数。

这两个堆构成的数据结构支持以下操作：

维护：当小根堆的大小小于 k 时，不断将大根堆堆顶元素取出并插入小根堆，直到小根堆的大小等于 k；当小根堆的大小大于 k
     时，不断将小根堆堆顶元素取出并插入大根堆，直到小根堆的大小等于 k;
 
插入元素：若插入的元素大于等于小根堆堆顶元素，则将其插入小根堆，否则将其插入大根堆，然后维护对顶堆

查询第 k 大元素：小根堆堆顶元素即为所求；

删除第 k 大元素：删除小根堆堆顶元素，然后维护对顶堆；

k 值 +1/-1：根据新的 k 值直接维护对顶堆。